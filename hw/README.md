# **Домашнее задание 2. КПО.**
## _Артемов Никита Владиславович, БПИ219_

## Условие

```text
Имеется корневая папка.
В этой папке могут находиться текстовые файлы, а также
другие папки.
В других папках также могут находиться текстовые файлы и папки (уровень вложенности может оказаться любым).

В каждом файле может быть ни одной, одна или несколько директив формата:

require ‘<путь к другому файлу от корневого каталога>’

Директива означает, что текущий файл зависит от другого указанного файла.

Необходимо выявить все зависимости между файлами, построить сортированный
список, для которого выполняется условие: "если файл А, зависит от файла В, то файл А находится ниже файла В в списке."

Осуществить конкатенацию файлов в соответствии со списком. Если такой список
построить невозможно (существует циклическая зависимость), программа должна
вывести соответствующее сообщение.
```

## Описание решения

Выявление зависимостей и создание списка файлов по этим зависимостям происходит с помощью **графа**, который хранится в виде _"списка смежностей"_.

тестовая папка [**test**](./test)

Создание списка файлов по этим зависимостям происходит с помощью топологической сортировки.

Обязательно учесть, что в файлах require statements должны быть на разных строках, а так же в строке с require должны быть обычные одинарные кавычки. При запуске теста из файла условия необходимо зайти в файл Node.java и сменить закомментированную строку и рабочую.
Строки для смены кавычек - 20 и 21.

Финальные результаты можно обнаружить в файле [**result.txt**](./result.txt)

## Структура

- [**Node**](./src/Node.java) содержащит путь до файла и и все его require.
- [**FileGraph**](./src/FileGraph.java) храненит и сортирует граф файлов. Вершины графа - объекты класса Node.
- [**Main**](./src/Main.java) - основные вызовы функций и получение информации от пользователя, а также проверка правильности ввода пользователя.
- [**Merge**](./src/FileSorter.java) производит сборку файлов из рабочей папки и запуск сортировки файлов и вывод.

## Взаимодействие

- В мейне происходит получение директории для теста и файла для записи и обработка большинства исключений. В мейне идет почти весь фронт и вывод программы в консоль. Тут же идет создание объекта FileSorter, запуск сортировки и слияние через этот объект.
- В FileSorter объекте создается объект класса FileGraph и запускается сортировка в графе. Тут же находятся все файлы и производится слияние отсортированного списка.
- В FileGraph объекте в конструкторе создается список смежности и по нему происходит топологическая сортировка вызовов из FileSorter.
- В Node объекте считываются файлы и зависимости. Объекты этого класса - это вершины графа.


